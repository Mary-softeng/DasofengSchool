<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entry Exam - Dasofeng School for Techies</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .exam-container {
            padding: 4rem 2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .exam-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .exam-header h2 {
            color: var(--primary-teal);
            margin-bottom: 1rem;
        }
        
        .course-info {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .course-icon {
            font-size: 3rem;
            color: var(--primary-teal);
            margin-bottom: 1rem;
        }
        
        .exam-content {
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .payment-info {
            text-align: center;
            padding: 2rem;
        }
        
        .payment-details {
            background-color: var(--light-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            text-align: left;
        }
        
        .question {
            margin-bottom: 2.5rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #eee;
        }
        
        .question:last-child {
            border-bottom: none;
        }
        
        .question h3 {
            color: var(--primary-teal);
            margin-bottom: 1rem;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }
        
        .option {
            display: flex;
            align-items: flex-start;
            gap: 0.8rem;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            transition: all 0.2s;
            cursor: pointer;
        }
        
        .option:hover {
            background-color: #f9f9f9;
        }
        
        .option input {
            margin-top: 0.2rem;
        }
        
        .exam-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        .timer {
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-teal);
        }
        
        .result-container {
            text-align: center;
            padding: 2rem;
        }
        
        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: white;
        }
        
        .score-pass {
            background: conic-gradient(#00cc00 0% 100%, #e0e0e0 100% 100%);
        }
        
        .score-fail {
            background: conic-gradient(#ff4444 0% 100%, #e0e0e0 100% 100%);
        }
        
        .result-message {
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <h1>Dasofeng School for Techies</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="courses.html">Courses</a></li>
                    <li><a href="../index.html#how-it-works">How It Works</a></li>
                    <li><a href="../index.html#about">About</a></li>
                    <li><a href="../index.html#contact">Contact</a></li>
                </ul>
            </nav>
            <div class="auth-buttons">
                <button class="btn btn-outline" id="loginBtn">Login</button>
                <button class="btn btn-primary" id="applyBtn" style="display: none;">Apply Now</button>
            </div>
        </div>
    </header>

    <main>
        <div class="exam-container">
            <!-- Data Analytics - No Exam -->
            <div id="analyticsSection" class="hidden">
                <div class="course-info">
                    <div class="course-icon">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h2>Data Analytics Program</h2>
                    <p>Welcome to the Data Analytics program application process!</p>
                </div>
                
                <div class="payment-info">
                    <h3>ðŸŽ‰ No Entry Exam Required!</h3>
                    <p>For our Data Analytics program, we welcome students from all backgrounds without an entry exam.</p>
                    
                    <div class="payment-details">
                        <h4>Next Steps:</h4>
                        <ol style="text-align: left; margin-left: 2rem;">
                            <li><strong>Payment Details:</strong> You will receive an email with payment instructions within 24 hours</li>
                            <li><strong>Program Fee:</strong> $1,200 (Payment plans available)</li>
                            <li><strong>Access:</strong> After payment, you'll receive login credentials for our Learning Management System</li>
                            <li><strong>Start Date:</strong> Programs start on the 1st of every month</li>
                        </ol>
                    </div>
                    
                    <p>Check your email for payment details and welcome information!</p>
                    <button class="btn btn-primary" onclick="goToDashboard()">Proceed to Learning Portal</button>
                </div>
            </div>

            <!-- Data Science & Engineering - Exam -->
            <div id="examSection" class="hidden">
                <div class="exam-header">
                    <h2>Entry Examination</h2>
                    <p id="examDescription">Complete this assessment to evaluate your foundational knowledge.</p>
                </div>
                
                <div class="course-info">
                    <h3 id="courseTitle">Course Examination</h3>
                    <p>Duration: 60 minutes | Passing Score: 50%</p>
                </div>
                
                <div class="timer" id="timer">Time Remaining: 60:00</div>
                
                <form class="exam-content" id="examForm">
                    <div id="questionsContainer">
                        <!-- Questions will be inserted here by JavaScript -->
                    </div>
                    
                    <div class="exam-actions">
                        <button type="button" class="btn btn-outline" id="prevBtn" disabled>Previous</button>
                        <button type="submit" class="btn btn-primary" id="submitExam">Submit Exam</button>
                    </div>
                </form>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="hidden">
                <div class="result-container">
                    <div id="scoreCircle" class="score-circle">
                        <span id="scoreValue">0%</span>
                    </div>
                    
                    <h2 id="resultTitle">Exam Results</h2>
                    
                    <div class="result-message" id="resultMessage">
                        <!-- Result message will be inserted here -->
                    </div>
                    
                    <div id="passContent" class="hidden">
                        <div class="payment-details">
                            <h4>ðŸŽ‰ Congratulations! Next Steps:</h4>
                            <ol style="text-align: left; margin-left: 2rem;">
                                <li><strong>Email Confirmation:</strong> You'll receive a congratulatory email with payment details</li>
                                <li><strong>Program Fee:</strong> $1,500 (Payment plans available)</li>
                                <li><strong>LMS Access:</strong> After payment, you'll get login credentials</li>
                                <li><strong>Start Learning:</strong> Access course materials immediately</li>
                            </ol>
                        </div>
                        <button class="btn btn-primary" onclick="goToDashboard()">Proceed to Learning Portal</button>
                    </div>
                    
                    <div id="failContent" class="hidden">
                        <p>Don't be discouraged! You can retake the exam after 30 days.</p>
                        <p>In the meantime, check out our <a href="courses.html#analytics">Data Analytics program</a> which doesn't require an entry exam.</p>
                        <button class="btn btn-outline" onclick="location.href='../index.html'">Return to Home</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Dasofeng School</h3>
                <p>Empowering the next generation of data professionals through comprehensive education and hands-on experience.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="courses.html">Courses</a></li>
                    <li><a href="../index.html#how-it-works">How It Works</a></li>
                    <li><a href="../index.html#about">About Us</a></li>
                    <li><a href="../index.html#contact">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contact Us</h3>
                <ul>
                    <li><i class="fas fa-map-marker-alt"></i> 123 Data Street, Tech City</li>
                    <li><i class="fas fa-phone"></i> +1 (555) 123-4567</li>
                    <li><i class="fas fa-envelope"></i> info@dasofeng.edu</li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 Dasofeng School for Techies. All rights reserved.</p>
        </div>
    </footer>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Student Login</h2>
                <button class="close-modal">&times;</button>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="studentEmail">Email Address</label>
                    <input type="email" id="studentEmail" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Login to Dashboard</button>
            </form>
        </div>
    </div>

    <script src="../js/main.js"></script>
    <script src="../js/auth.js"></script>
    <script>
        // Exam data for different courses
        const examData = {
            'data-science': {
                title: 'Data Science Entry Exam',
                description: 'Assess your foundational knowledge in mathematics, statistics, and programming concepts required for Data Science.',
                questions: [
                    {
                        question: 'What is the primary purpose of cross-validation in machine learning?',
                        options: [
                            'To increase model complexity',
                            'To assess how the model will generalize to an independent dataset',
                            'To reduce training time',
                            'To eliminate the need for a test set'
                        ],
                        correct: 1
                    },
                    {
                        question: 'Which of the following is NOT a supervised learning algorithm?',
                        options: [
                            'Linear Regression',
                            'K-Means Clustering',
                            'Decision Trees',
                            'Support Vector Machines'
                        ],
                        correct: 1
                    },
                    {
                        question: 'What does the term "p-value" represent in hypothesis testing?',
                        options: [
                            'The probability that the null hypothesis is true',
                            'The probability of observing the data if the null hypothesis is true',
                            'The effect size of the experiment',
                            'The confidence level of the results'
                        ],
                        correct: 1
                    },
                    {
                        question: 'Which Python library is primarily used for data manipulation and analysis?',
                        options: [
                            'NumPy',
                            'Pandas',
                            'Matplotlib',
                            'Scikit-learn'
                        ],
                        correct: 1
                    },
                    {
                        question: 'What is the main advantage of using a random forest over a single decision tree?',
                        options: [
                            'Faster training time',
                            'Reduced overfitting',
                            'Simpler interpretation',
                            'Lower memory usage'
                        ],
                        correct: 1
                    }
                ]
            },
            'data-engineering': {
                title: 'Data Engineering Entry Exam',
                description: 'Evaluate your understanding of databases, data pipelines, and data infrastructure concepts.',
                questions: [
                    {
                        question: 'What is the primary purpose of data normalization in database design?',
                        options: [
                            'To increase query performance',
                            'To reduce data redundancy and improve data integrity',
                            'To make databases more secure',
                            'To simplify database backups'
                        ],
                        correct: 1
                    },
                    {
                        question: 'Which of the following is a characteristic of a data warehouse?',
                        options: [
                            'Optimized for transactional processing',
                            'Designed for real-time data updates',
                            'Optimized for analytical queries and reporting',
                            'Typically uses NoSQL databases'
                        ],
                        correct: 2
                    },
                    {
                        question: 'What is the main purpose of ETL (Extract, Transform, Load) processes?',
                        options: [
                            'To create data visualizations',
                            'To move data from source systems to a data warehouse',
                            'To train machine learning models',
                            'To secure sensitive data'
                        ],
                        correct: 1
                    },
                    {
                        question: 'Which SQL clause is used to combine rows from two or more tables?',
                        options: [
                            'GROUP BY',
                            'WHERE',
                            'JOIN',
                            'HAVING'
                        ],
                        correct: 2
                    },
                    {
                        question: 'What is the primary benefit of using Apache Spark over traditional MapReduce?',
                        options: [
                            'Better security features',
                            'In-memory processing for faster performance',
                            'Simpler programming model',
                            'Lower hardware requirements'
                        ],
                        correct: 1
                    }
                ]
            }
        };

        // Get course from URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const course = urlParams.get('course');

        // Initialize exam based on course
        document.addEventListener('DOMContentLoaded', function() {
            if (course === 'data-analytics') {
                showAnalyticsSection();
            } else if (course === 'data-science' || course === 'data-engineering') {
                showExamSection();
            } else {
                // Invalid course, redirect to home
                alert('Invalid course selection. Redirecting to home page.');
                window.location.href = '../index.html';
            }
        });

        function showAnalyticsSection() {
            document.getElementById('analyticsSection').classList.remove('hidden');
        }

        function showExamSection() {
            document.getElementById('examSection').classList.remove('hidden');
            
            const exam = examData[course];
            document.getElementById('courseTitle').textContent = exam.title;
            document.getElementById('examDescription').textContent = exam.description;
            
            // Render questions
            const questionsContainer = document.getElementById('questionsContainer');
            exam.questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <h3>Question ${index + 1}: ${q.question}</h3>
                    <div class="options">
                        ${q.options.map((option, optIndex) => `
                            <div class="option">
                                <input type="radio" id="q${index}opt${optIndex}" name="q${index}" value="${optIndex}">
                                <label for="q${index}opt${optIndex}">${option}</label>
                            </div>
                        `).join('')}
                    </div>
                `;
                questionsContainer.appendChild(questionDiv);
            });

            // Start timer
            startTimer(60 * 60); // 60 minutes
        }

        let timeLeft;
        let timerInterval;

        function startTimer(seconds) {
            timeLeft = seconds;
            timerInterval = setInterval(updateTimer, 1000);
            updateTimer();
        }

        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer').textContent = 
                `Time Remaining: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                submitExam();
            } else {
                timeLeft--;
            }
        }

        // Exam submission
        document.getElementById('examForm').addEventListener('submit', function(e) {
            e.preventDefault();
            submitExam();
        });

        function submitExam() {
            clearInterval(timerInterval);
            
            const exam = examData[course];
            let score = 0;
            
            // Calculate score
            exam.questions.forEach((q, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                if (selected && parseInt(selected.value) === q.correct) {
                    score++;
                }
            });
            
            const percentage = (score / exam.questions.length) * 100;
            showResults(percentage);
        }

        function showResults(percentage) {
            document.getElementById('examSection').classList.add('hidden');
            document.getElementById('resultsSection').classList.remove('hidden');
            
            const scoreCircle = document.getElementById('scoreCircle');
            const scoreValue = document.getElementById('scoreValue');
            const resultTitle = document.getElementById('resultTitle');
            const resultMessage = document.getElementById('resultMessage');
            
            scoreValue.textContent = `${Math.round(percentage)}%`;
            
            if (percentage >= 50) {
                // Passed
                scoreCircle.className = 'score-circle score-pass';
                resultTitle.textContent = 'ðŸŽ‰ Congratulations! You Passed!';
                resultMessage.innerHTML = `
                    <p>You have successfully passed the entry exam with a score of <strong>${Math.round(percentage)}%</strong>.</p>
                    <p>You are now eligible to enroll in the ${course.replace('-', ' ').toUpperCase()} program.</p>
                `;
                document.getElementById('passContent').classList.remove('hidden');
                
                // Simulate sending email (in real implementation, this would call a backend)
                simulateEmailNotification(true, percentage);
            } else {
                // Failed
                scoreCircle.className = 'score-circle score-fail';
                resultTitle.textContent = 'Keep Learning!';
                resultMessage.innerHTML = `
                    <p>Your score is <strong>${Math.round(percentage)}%</strong>. The passing score is 50%.</p>
                    <p>We encourage you to review the foundational concepts and try again.</p>
                `;
                document.getElementById('failContent').classList.remove('hidden');
                
                // Simulate sending email (in real implementation, this would call a backend)
                simulateEmailNotification(false, percentage);
            }
        }

        function simulateEmailNotification(passed, score) {
            console.log('ðŸ“§ Email simulation:');
            console.log(`Course: ${course}`);
            console.log(`Passed: ${passed}`);
            console.log(`Score: ${score}%`);
            console.log('Email would be sent with next steps...');
            
            // In a real implementation, you would call your email service here
            // For example: sendEmail(course, passed, score);
        }

       function goToDashboard() {
    // Redirect to LMS dashboard
    window.location.href = 'lms-dashboard.html';
}    </script>
</body>
</html>